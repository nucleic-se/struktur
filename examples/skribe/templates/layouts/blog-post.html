{{!-- Blog Post Layout using Buffer System --}}

{{!-- Set page metadata --}}
{{#buffer name="page_title"}}{{title}}{{/buffer}}
{{#buffer name="title_separator"}} - {{/buffer}}

{{!-- Main content --}}
{{#buffer name="content"}}
  <article>
    <h1>{{title}}</h1>
    <div class="post-meta">
      {{aspects.blog_post.date}} â€¢ {{aspects.blog_post.author}}
    </div>
    <div class="post-content">
      <p>{{{replace (escape aspects.blog_post.content) "\n\n" "</p><p>"}}}</p>
    </div>
    {{#if aspects.blog_post.tags}}
    {{> partials/tags pathPrefix=pathPrefix tags=aspects.blog_post.tags}}
    {{/if}}
  </article>
{{/buffer}}

{{!-- Render with base layout --}}
{{> layouts/base}}
